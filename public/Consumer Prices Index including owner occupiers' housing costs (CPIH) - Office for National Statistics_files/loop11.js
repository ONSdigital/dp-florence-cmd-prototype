!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var o,i,r,l,d,c;Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var i,r,l=0|t,d=Math.max(l>=0?l:o-Math.abs(l),0);for(;d<o;){if((i=n[d])===(r=e)||"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))return!0;d++}return!1}}),window.l11_functions=window.l11_functions||(r=null,l=function(e){(document.addEventListener||"load"===e.type||"complete"===document.readyState)&&(d(),c.apply(this,arguments))},d=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",l,!1),window.removeEventListener("load",l,!1)):(document.detachEvent("onreadystatechange",l),window.detachEvent("onload",l))},c=function(){for(var e=0;e<r.length;e++)try{r[e].apply(this,arguments)}catch(e){}},{addReadyStateHandler:function(e){"complete"!==document.readyState?null===r?(r=[e],function(){if(document.addEventListener)document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1);else{document.attachEvent("onreadystatechange",l),window.attachEvent("onload",l);var e=!1;try{e=null===window.frameElement&&document.documentElement}catch(e){}e&&e.doScroll&&function t(){try{e.doScroll("left")}catch(e){return window.setTimeout(t,50)}d(),c(arguments)}()}}()):r.push(e):window.setTimeout(e,0)},addListener:function(e,t,n){t.addEventListener?t.addEventListener(e,n,!1):window.attachEvent&&t.attachEvent("on"+e,n)},session:{set:function(e,t,n){var o=new Image,i=escape(JSON.stringify(t));o.onload=n,o.src=e+"/usertest/set-session/"+encodeURIComponent(i),o.style.display="none",document.body.appendChild(o)},delete:function(e,t){var n=new Image;n.onload=t,n.src=e+"/usertest/delete-session",n.style.display="none",document.body.appendChild(n)},get:function(e,t,n){window.addEventListener("message",function e(o){var i;try{i=JSON.parse(unescape(o.data))}catch(e){return}i.fromLoop11?(t(i.session),window.removeEventListener("message",e)):i.noSession&&(n(),window.removeEventListener("message",e))});var o=document.createElement("iframe");o.src=e+"/usertest/get-session",o.style.display="none",document.body.appendChild(o)}},cookies:{set:o=function(e,t,n,o,i){var r="";if(n){var l=new Date;l.setTime(l.getTime()+1e3*n),r+=" expires="+l.toGMTString()+";"}o&&(r+=" domain="+o+";"),null===t||null===i||i||(t=encodeURIComponent(t)),document.cookie=e+"="+t+";"+r+" path=/"},unset:function(e,t){null!==i(e,!1)&&o(e,"",-86400,t)},get:i=function(e,t){for(var n=document.cookie.split(";"),o=null,i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);var l=r.indexOf("=");if(r.substring(0,l)===e){o=r.substring(l+1,r.length);break}}return null!==o&&null!==t&&!0!==t&&(o=decodeURIComponent(o)),o}}}),window.loop11Loader=function(){var e,t,n,o,i;switch(e=document.location.search,t={},(e="/"===e.charAt(e.length-1)?e.substring(0,e.length-1):e).replace(new RegExp("([^?=&;]+)(=([^&;]*))?","g"),function(e,n,o,i){t[n]=i}),"l11_env"in t?t.l11_env:"production"){case"staging":n="https://",o="staging.loop11.com",i="cdn.staging.loop11.com";break;case"docker":case"local":n="http://",o="localhost:8000",i="localhost:8000";break;case"ngrok":n="https://",o="loop11local.ngrok.io",i="loop11local.ngrok.io";break;default:n="https://",o="www.loop11.com",i="cdn.loop11.com"}var r,l=Q("loop11protocol",n),d=l+Q("loop11domain",o),c=l+Q("loop11cdndomain",i),s=D(!1),a=void 0===window.loop11_key?null:window.loop11_key,u="triton/css/taskbar",p="/static/",m="/static/triton/css/",f="/static/triton/js/",w="triton/css/ie",h=null,v=null,g={lang:"en",dir:"ltr",move:"move",hide:"hide",show:"show",exit:"exit",loading:"Loading, please wait.",exit_conf:"Exit user test?",complete:"Complete",mandatory:"This question is required.",resume:"Resume test",begin:"Begin Evaluation",popupExit:"Exit",popupBegin:"Begin Evaluation"},b=d+"/triton/"+(a?a+"/":""),y=d+"/triton/time/"+(new Date).getTime()+"/"+(a?a+"/":""),_=c+"/static/",E={"triton.1":["embed.full"],"triton.2":["triton.2"]},x=["36087"],k={"embed.full":_+"triton/js/loop11ui-desktop.js?v=3f48bdc2be03ed616bc6b17560a7259a3ae00dbe9d5eeaac74944f654dedc9a5","triton.2":_+"triton/js/loop11ui-mobile.js?v=01ff5d5c00c950f45dbdc6183b36772f5ffcbc9f0ad84192e8abc68d113523b6",clickview:_+"triton/js/clickview-heatmap.js?v=2ae734aac74cd98ce4183b2356bf04548ddda3522b3d97737ae331189ff35eed",clickrecord:_+"triton/js/clickrecord.js?v=c3f941544858ead041f7a4c57a186a7ae7b6b9cd42c9e363faffb7cb386b3834",usertest:_+"triton/js/usertest.js?v=8cccc75f14a581fe546cd901000c214cef9ef8475a37ad155be8ec6514139dfb",inject_recorder:_+"triton/js/inject-recorder.js?v=4db739cea968bd980c7acc50f22cb55edb786a1006d34cb507b90b522a088159",bowser:"https://cdnjs.cloudflare.com/ajax/libs/bowser/1.8.0/bowser.min.js"},A={popup:"popup",general_preview:"general-preview",preview:"preview",heatmap_view:"heatmap-view"},C=["l11_mode","l11_uid","l11_pid","l11_ot","l11_oid","l11_action","l11_env","l11_show_taskbar"],S=null,j=!0;function L(e,t,n){if(t&&"loading"===document.readyState){var o="loop11_script_"+(new Date).getTime();try{if((r=document.createElement("script")).id=o,r.src=e,r.type="text/javascript",document.body.appendChild(r),document.getElementById(o))return!0}catch(e){}}if((r=document.createElement("script")).src=e,r.type="text/javascript",n){var i=!1;r.onload=r.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,n())}}return document.getElementsByTagName("head")[0].appendChild(r),!1}function O(e,t,n){n=n||function(){};for(var o=e.length,i=function(e){0==--o&&n(e)},r=0;r<e.length;r++)L(e[r],t,i)&&t&&0==--o&&n()}function H(){if(function(){var e=M();if("l11_uid"in e||e.l11_mode===A.general_preview){S=S||{};for(var t=0;t<C.length;t++){var n=C[t];n in e&&(S[n]=e[n])}}}(),void 0!==window.l11_clientOptions&&"participantParameters"in window.l11_clientOptions)for(var e in window.l11_clientOptions.participantParameters)C.includes(e)&&(null===S&&(S={}),S[e]=window.l11_clientOptions.participantParameters[e]);P()||I(),null!==a&&null!==S&&"l11_uid"in S&&(!("l11_mode"in S&&S.l11_mode!==A.popup)&&"l11_mode"in S||O(K(),!0))}function I(){if((null===S||null!==S&&0===Object.keys(S).length)&&void 0!==window.loop11_pp){var e="l11_popup"+window.loop11_pp[1];null===window.l11_functions.cookies.get(e)?(window.l11_functions.cookies.set(e,1,1296e4),j=null==window.l11_functions.cookies.get(e),Math.floor(100*Math.random())<=window.loop11_pp[0]&&(S={l11_uid:window.loop11_pp[1],l11_mode:A.popup},window.loop11_pp[2]&&(S.l11_action="poseidon"),U())):j=!1}null!==S&&S.l11_mode&&S.l11_mode===A.popup&&window.l11_functions.addReadyStateHandler(function(){L(function(){for(var e=y,t=0;t<C.length;t++){var n=C[t];"l11_env"!==n&&S[n]&&(e+=S[n]+"/")}return e}())})}function T(){for(var e=0;e<C.length;e++)window.l11_functions.cookies.unset(C[e]);window.l11_functions.cookies.unset("session")}function B(){if(o="sessiondata",i=window.l11_clientOptions||{},o in i){var e=Q("sessiondata");S=S||{};for(var t=0;t<C.length;t++){var n=C[t];if(n in e){if(!e.hasOwnProperty(n))continue;S[n]=e[n]}}}var o,i}function N(){if(null!==window.l11_functions.cookies.get("l11_uid")&&window.l11_functions.cookies.get("l11_mode")!==A.heatmap_view){S=S||{};for(var e=0;e<C.length;e++){var t=C[e],n=window.l11_functions.cookies.get(t);null!==n&&(S[t]=n)}}}function P(){return"l11_uid"in M()}function M(){var e=document.location.search,t={};return(e="/"===e.charAt(e.length-1)?e.substring(0,e.length-1):e).replace(new RegExp("([^?=&;]+)(=([^&;]*))?","g"),function(e,n,o,i){t[n]=i}),t}function U(e){void 0!==e&&(S=e);for(var t=0;t<C.length;t++){var n=C[t];void 0!==S[n]&&null!==S[n]?window.l11_functions.cookies.set(n,S[n],null):window.l11_functions.cookies.unset(n)}}function R(e,t,n,o,i){var r=document.createElement("input");return r.setAttribute("type","button"),null!==e&&r.setAttribute("name",e),null!==t&&r.setAttribute("value",t),null!==n&&r.setAttribute("class",n),null!==o&&r.setAttribute("id",o),null!==i&&(r.onclick=i),r}function W(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n}function D(e){var t,n,o=Q("ui",null);return o&&!e?o:(o="triton.1","complete"!==document.readyState&&navigator.userAgent.match(/android;.*?mobile.*?firefox|android 2[.0-9]+.*version\/4\.0 mobile/gi)&&(t=document.querySelector('meta[name="viewport"]'))&&(n=t.content)&&/width\s*=\s*(?:320|device-width)|height\s*=\s*device-height/i.test(n)?"triton.2":(window.matchMedia?window.matchMedia("(max-width: 885px)").matches&&(o="triton.2"):document.documentElement.clientWidth<=885&&(o="triton.2"),o))}function V(){window.postMessage({usertestComplete:!0},"*")}function q(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function J(e){if(e){var t=q()[1],n=Math.round(t/2-e.offsetHeight/2);e.style.top=n>0?n+"px":"1px"}}function Y(){var e=document.getElementById("loop11overlay");e&&e.parentNode.removeChild(e)}function z(){window.confirm(g.exit_conf)&&(Y(),T(),window.l11_functions.session.delete(d),V(),h.parentNode.removeChild(h))}function G(e){for(var t=[],n=0;n<e.length;n++)e[n]in k&&t.push(k[e[n]]);return t}function K(e){return G(E[e=e||s])}function Q(e,t){var n=window.l11_clientOptions||{};return e in n?n[e]:t}return{init:function(e,t,n,o){if(void 0===o){if(window.loop11ExtTerritory)return void(P()||I());if(function(){var e=M();return"loop11AppTerritory"in e||"l11_isInApp"in e}())return}if(void 0!==e&&"l11_uid"in e&&(S=e),void 0!==n){window.l11_clientOptions=window.l11_clientOptions||{},window.l11_clientOptions.participantParameters=window.l11_clientOptions.participantParameters||{};var i=JSON.parse(n);for(var r in console.log("startQueryParams",i),i)window.l11_clientOptions.participantParameters[r]=i[r]}null===S?window.l11_functions.session.get(d,function(e){S=e,o&&(S.l11_uid=t),H()},function(){console.log("session.get onError","checking if browser is Safari"),L(k.bowser,!0,function(){!function(){var e=!1;"undefined"!=typeof bowser&&(e=!0===bowser.safari);var t=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(navigator.userAgent);return e||t}()||!P()&&!o?(B(),N(),H()):function(){if("l11_redirected"in M()){var e=d+"/no-cookie/";window.document.location.href=e}else{var t=encodeURIComponent(window.document.location.href),n=d+"/usertest/reset-session-via-redirect/"+t;window.document.location.href=n}}()})}):(B(),N(),H())},popup:function(e){if(j)console.log("Browser cookies are set to disabled");else{!function(e){var t,n=e.theme||!1,o=document.getElementsByTagName("link"),i=!1,r=null;r=n?b+"usertest-style/"+e.session.l11_uid+"/css":"ltr"===g.dir?_+u+".css":_+u+"rtl.css";for(var l=0;l<o.length;l++)if(o[l].getAttribute("href")===r){i=!0;break}if(!i){var d=document.createElement("link");if(d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.setAttribute("href",r),document.getElementsByTagName("head")[0].appendChild(d),null!==(t=null,void 0!==document.body.style.scrollbar3dLightColor&&(t=void 0!==document.body.style.opacity?"IE9":void 0!==document.body.style.msBlockProgression?"IE8":void 0!==document.body.style.msInterpolationMode?"IE7":void 0!==document.body.style.textOverflow?"IE6":"IE5.5"),t)){var c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),"ltr"===g.dir?c.setAttribute("href",_+w+".css"):c.setAttribute("href",_+w+"rtl.css"),document.getElementsByTagName("head")[0].appendChild(c)}}}(e),g=e.ui||g;var t=e.popupbox;d="div",(c=document.createElement(d)).setAttribute("lang",g.lang),c.setAttribute("dir",g.dir),(h=c).setAttribute("id","loop11-popupbox"),h.setAttribute("aria-labelledby","loop11-popupbox"),h.innerHTML="<p>"+t.content+"</p>";var n,o=document.createElement("div");o.setAttribute("id","loop11-lightbox-buttons"),n=t.redirect?function(){Y(),T(),document.location.href=t.redirect}:function(){Y(),h.parentNode.removeChild(h),delete S.l11_mode,window.l11_functions.cookies.unset("l11_mode"),O(K(),!1)},o.appendChild(R("exit",g.popupExit,null,null,z)),o.appendChild(R("begin",g.popupBegin,e.theme?null:"loop11-begin",null,n)),h.appendChild(o),function(e){e&&(document.body.childNodes.length>0?document.body.insertBefore(e,document.body.childNodes[0]):document.body.appendChild(e))}(h),"absolute"!==W(h,"position")&&(h.style.display="none",function e(t,n){var o=document.getElementById(t);if(o)if("absolute"!==W(o,"position"))setTimeout(function(){e(t,n)},250);else if(n){var i=q()[1];o.style.display="block",J(o),"loop11-lightbox-task-panel"===t&&function(e,t){var n=document.getElementById(e);if(n){var o=n.offsetHeight;o>t&&(o=85<=t-85?t-85:85,n.style.height=o+"px")}}("loop11-lightbox-scroll",i)}else o.style.display="block"}("loop11-popupbox",!0)),J(h),v||((v=document.createElement("div")).setAttribute("id","loop11overlay"),v.style.height=(r=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.documentElement&&document.documentElement.scrollHeight>document.documentElement.offsetHeight?document.documentElement.scrollHeight:document.body.offsetHeight,window.innerHeight?l=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?l=document.documentElement.clientHeight:document.body&&(l=document.body.clientHeight),(r<l?l:r)+"px"),document.body.appendChild(v)),function(){if(document.getElementById("newContentAnnounce")){var e=document.getElementById("newContentAnnounce");e.style.clip="rect(0px,0px,0px,0px)",e.innerHTML="",e.style.visibility="hidden"}else{var t=document.createElement("div");t.setAttribute("id","newContentAnnounce"),t.setAttribute("role","alert"),t.setAttribute("aria-atomic","true"),t.style.color="white",t.style.position="absolute",t.style.height="1px",t.style.width="1px",t.style.fontSize="1px",t.style.clip="rect(0px,0px,0px,0px)",document.body.appendChild(t),(t=document.getElementById("newContentAnnounce")).appendChild(document.createTextNode("Please be patient as page loads.")),t.style.visibility="hidden",t.style.visibility="visible"}}(),window.scroll(0,0);var i=window.document.getElementsByClassName("loop11-begin")[0];i&&(i.setAttribute("autofocus","autofocus"),i.focus())}var r,l,d,c},getSession:function(){return S},storeLocalSession:U,clearLocalSession:T,getConfig:function(){return{domain:d,cdndomain:c,uiType:s,key:a,stylePath:m,staticPath:p,jsPath:f}},getLibUrl:function(e){if(!("inject_recorder"===e&&"l11_uid"in S&&x.includes(S.l11_uid)))return e in k?k[e]:void 0},getLibUrls:G,getUILibUrls:K,outputScript:L,outputScripts:O,initIfCorrectUI:function(e,t){e===(s=D(!1))?t():O(K())},usertestComplete:V}}(),window.loop11Loader.init()}]);
//# sourceMappingURL=loop11.js.map